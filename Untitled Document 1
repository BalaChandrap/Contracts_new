pragma solidity >=0.4.0 <0.6.0;

contract Students {
    
    struct Std {
       address stdAddress;
       string name;
       uint8  percentage;
       address createdBy;
       uint8   status;
    }
    
    address public admin;
    
    uint8 public count;
    
    uint256 public fee;
    
    constructor () public{
        fee = 1 ether;
        admin = msg.sender;
    }
    
    uint8 highestPercentage;
    address payable highestPerStd;
    
    mapping (address => Std) public studentRecords;
    
    modifier onlyAdmin {
        
        require(msg.sender==admin);
        _;
    }
    
    
    function addStudent(address payable   _stdAddress,string memory _name,uint8  _percentage) public onlyAdmin {
        
        Std memory temp = Std(_stdAddress,_name,_percentage,msg.sender,1);
        studentRecords[_stdAddress] = temp;
        count++;
        
        if(highestPercentage<_percentage){
            highestPercentage = _percentage;
            highestPerStd = address(_stdAddress);
        }
        
    }
    
    function accept() public payable{
        require(msg.value == 1 ether);
        require(studentRecords[msg.sender].stdAddress != address(0));
        studentRecords[msg.sender].status = 2;
    } 
    
    function reward() public onlyAdmin {
        
        uint256 valueInWei = (count*(1 ether/1 wei))/2;
        highestPerStd.transfer(valueInWei);
    }
    
    
    
    
    
}
